# 배포 가이드

## GitHub Pages 배포 설정

### 1. GitHub 저장소 설정

#### 1.1 Pages 활성화
1. GitHub 저장소로 이동
2. **Settings** 탭 클릭
3. 왼쪽 메뉴에서 **Pages** 선택
4. **Source** 섹션에서:
   - Source: `GitHub Actions` 선택

### 2. 자동 배포 워크플로우

`.github/workflows/deploy.yml` 파일이 자동 배포를 처리합니다.

#### 2.1 배포 트리거
- `main` 브랜치에 푸시할 때 자동 실행
- 수동 실행 가능 (Actions 탭에서 "Run workflow" 버튼)

#### 2.2 배포 프로세스
```mermaid
graph LR
    A[코드 푸시] --> B[GitHub Actions 트리거]
    B --> C[빌드 작업]
    C --> D[아티팩트 업로드]
    D --> E[GitHub Pages 배포]
    E --> F[사이트 라이브]
```

### 3. 배포 방법

#### 3.1 자동 배포 (권장)
```bash
# 변경사항 커밋
git add .
git commit -m "feat: 계산기 기능 추가"

# main 브랜치에 푸시
git push origin main
```

푸시 후 자동으로:
1. GitHub Actions가 실행됨
2. 빌드 및 배포 진행
3. 약 1-2분 후 사이트 업데이트

#### 3.2 수동 배포
1. GitHub 저장소의 **Actions** 탭 이동
2. 왼쪽에서 "Deploy to GitHub Pages" 워크플로우 선택
3. **Run workflow** 버튼 클릭
4. 브랜치 선택 후 **Run workflow** 확인

### 4. 배포 확인

#### 4.1 배포 상태 확인
1. **Actions** 탭에서 워크플로우 실행 상태 확인
2. 녹색 체크마크: 성공
3. 빨간 X: 실패 (로그 확인 필요)

#### 4.2 사이트 접속
배포 완료 후 다음 URL로 접속:
```
https://nohyujin.github.io/calculator-app/
```

> [!NOTE]
> 저장소 이름이 다르면 URL도 변경됩니다:
> `https://<username>.github.io/<repository-name>/`

### 5. 커스텀 도메인 설정 (선택사항)

#### 5.1 도메인 연결
1. **Settings** > **Pages**로 이동
2. **Custom domain** 섹션에 도메인 입력
3. DNS 설정:
   ```
   Type: CNAME
   Name: www (또는 원하는 서브도메인)
   Value: nohyujin.github.io
   ```

#### 5.2 HTTPS 강제 적용
- **Enforce HTTPS** 체크박스 활성화 (권장)

### 6. 배포 최적화

#### 6.1 캐싱 설정
현재 설정은 정적 파일을 그대로 배포합니다. 추가 최적화가 필요한 경우:

```yaml
# .github/workflows/deploy.yml 수정 예시
- name: 파일 최적화
  run: |
    # HTML 압축 (선택사항)
    npm install -g html-minifier
    html-minifier index.html -o index.html --collapse-whitespace
```

#### 6.2 빌드 캐시
빌드 시간 단축을 위한 캐시 설정 (현재는 불필요):
```yaml
- name: Cache dependencies
  uses: actions/cache@v3
  with:
    path: ~/.npm
    key: ${{ runner.os }}-node-${{ hashFiles('**/package-lock.json') }}
```

### 7. 문제 해결

#### 7.1 배포 실패 시
1. **Actions** 탭에서 실패한 워크플로우 클릭
2. 로그 확인하여 오류 메시지 파악
3. 일반적인 문제:
   - Pages 권한 미설정
   - 잘못된 브랜치 이름
   - 저장소 설정 문제

#### 7.2 404 오류
- GitHub Pages 설정에서 Source가 "GitHub Actions"로 되어있는지 확인
- 워크플로우가 성공적으로 완료되었는지 확인
- 몇 분 후 다시 시도 (DNS 전파 시간)

#### 7.3 스타일이 적용되지 않음
- CDN 링크가 올바른지 확인 (Tailwind CSS, Google Fonts)
- 브라우저 콘솔에서 네트워크 오류 확인

### 8. 로컬 테스트

배포 전 로컬에서 테스트:

```bash
# Python 사용
python -m http.server 8000

# Node.js 사용
npx http-server -p 8000

# VS Code Live Server 확장 프로그램 사용
```

브라우저에서 `http://localhost:8000` 접속

### 9. 배포 체크리스트

배포 전 확인사항:

- [ ] 모든 기능이 로컬에서 정상 작동
- [ ] 브라우저 콘솔에 오류 없음
- [ ] 라이트/다크 모드 모두 정상 작동
- [ ] 모바일 반응형 확인
- [ ] 계산 로직 테스트 완료
- [ ] 히스토리 기능 테스트 완료
- [ ] 커밋 메시지 작성 완료
- [ ] main 브랜치에 푸시

### 10. 모니터링

#### 10.1 배포 알림
GitHub Actions는 이메일로 배포 결과를 알려줍니다:
- 성공: 녹색 체크 아이콘
- 실패: 빨간 X 아이콘

#### 10.2 사용자 피드백
- GitHub Issues를 통한 버그 리포트
- 사용자 피드백 수집
- 정기적인 업데이트 및 개선

---

## 추가 리소스

- [GitHub Pages 공식 문서](https://docs.github.com/en/pages)
- [GitHub Actions 문서](https://docs.github.com/en/actions)
- [워크플로우 문법](https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions)
